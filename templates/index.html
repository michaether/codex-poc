<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Website Builder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <style>
        body {
            background-color: #343541;
            color: #ececf1;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                "Helvetica Neue", Arial, sans-serif;
        }

        .btn-primary {
            background-color: #19c37d;
            border-color: #19c37d;
        }

        .btn-primary:hover,
        .btn-primary:focus {
            background-color: #0fa57a;
            border-color: #0fa57a;
        }

        textarea.form-control {
            background-color: #40414f;
            color: #ececf1;
            border: 1px solid #565b6a;
        }

        textarea.form-control:focus {
            background-color: #40414f;
            color: #ececf1;
            border-color: #19c37d;
            box-shadow: none;
        }

        iframe {
            border: 0;
            width: 100%;
        }

        .preview-section {
            width: 100%;
            margin: 2rem auto;
            background-color: #202123;
            border-radius: 0.5rem;
            padding: 1rem;
        }

        .preview-card {
            background-color: #202123;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="container py-4">
<h1 class="mb-4 text-center">Hotel Website Generator</h1>
<form method="post" action="/generate" class="mb-5">
    <div class="mb-3">
        <label for="prompt" class="form-label">Describe your hotel website:</label>
        <textarea class="form-control" id="prompt" name="prompt" rows="4" required placeholder='Describe your site. Include the hotel name after the text "hotel name:"'></textarea>
    </div>
    <div class="mb-3">
        <label class="form-label d-block">Choose Template:</label>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="template" id="templateHotel" value="hotel" checked>
            <label class="form-check-label" for="templateHotel">Hotel</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="template" id="templateLifestyle" value="lifestyle">
            <label class="form-check-label" for="templateLifestyle">Lifestyle</label>
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Generate</button>
</form>

<div class="row mb-5 g-4">
    <div class="col-md-6">
        <div class="preview-card">
            <h5 class="text-center">Hotel Preview</h5>
            <iframe src="/preview/hotel" style="height:40vh;"></iframe>
        </div>
    </div>
    <div class="col-md-6">
        <div class="preview-card">
            <h5 class="text-center">Lifestyle Preview</h5>
            <iframe src="/preview/lifestyle" style="height:40vh;"></iframe>
        </div>
    </div>
</div>
<h2 class="mb-3 text-center">Previously Generated Sites</h2>
{% for site in sites %}
<div class="preview-section shadow-sm">
    <iframe src="/sites/{{ site.file }}" style="height:60vh;"></iframe>
    <div class="mt-2">
        <h5>{{ site.file }}</h5>
        <p>{{ site.prompt }}</p>
        <a href="/sites/{{ site.file }}" target="_blank" class="btn btn-primary btn-sm">Open Site</a>
        <a href="/download/{{ site.file.split('/')[0] }}" class="btn btn-success btn-sm ms-2">Download Files</a>
    </div>
</div>
{% else %}
<p>No sites generated yet.</p>
{% endfor %}
</body>
</html>
